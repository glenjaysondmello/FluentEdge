# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type TypingMistake {
  error: String!
  correction: String!
  type: String!
}

type TypingTest {
  id: ID!
  uid: String!
  referenceText: String!
  userText: String!
  durationSec: Float!
  wpm: Float!
  cpm: Float!
  accuracy: Float!
  mistakes: [TypingMistake!]!
  score: Float!
  suggestions: [String!]!
  encouragement: String!
  createdAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type SpeakingScore {
  fluency: Float!
  pronunciation: Float!
  grammar: Float!
  vocabulary: Float!
  overall: Float!
}

type SpeakingMistake {
  error: String!
  correction: String!
  type: String!
}

type SpeakingTest {
  id: ID!
  uid: String!
  referenceText: String!
  transcript: String
  scores: SpeakingScore
  mistakes: [SpeakingMistake!]
  suggestions: [String!]
  encouragement: String
  status: SpeakingTestStatus!
  createdAt: DateTime!
}

"""The processing status of the speaking test"""
enum SpeakingTestStatus {
  PROCESSING
  COMPLETED
  FAILED
}

type Query {
  getTypingTestText: String!
  getTypingTests: [TypingTest!]!
  getSpeakingTestText: String!
  getSpeakingTests: [SpeakingTest!]!
  getResultById(resultId: String!): SpeakingTest!
}

type Mutation {
  submitTypingTest(referenceText: String!, userText: String!, durationSec: Float!): TypingTest!
  submitSpeakingTest(referenceText: String!, audioFile: Upload!): String!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload